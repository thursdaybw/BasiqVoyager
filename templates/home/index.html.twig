{% extends 'base.html.twig' %}

{% block title %}Home Page{% endblock %}


{% block body %}

    {{  viewModel.message }}

    {% if viewModel.showForm %}
        {{ form_start(viewModel.form) }}
        {{ form_widget(viewModel.form) }}
        {{ form_end(viewModel.form) }}
    {% endif %}

    {% if viewModel.user %}
    <h2>Welcome: {{ viewModel.user.firstName }}</h2>
    First name: {{ viewModel.user.firstName }}<br />
    Last name: {{ viewModel.user.lastName }}<br />
    Email: {{ viewModel.user.email }}<br />
    {% endif %}

    {% if viewModel.accounts %}
    <h3>Your accounts</h3>
    {% for account in viewModel.accounts %}
        <table class="account" style="margin-top: 50px">
            <tr><th colspan="2" style="text-align: left;">{{ account.name }}</th></tr>
            <tr><td>Account No:</td><td>{{ account.accountNo }}</td></tr>
            <tr><td>Balance:</td><td>{{ account.balance }}</td></tr>
            <tr><td>Available Funds:</td><td>{{ account.availableFunds }}</td></tr>
            <tr><td>Last Updated:</td><td>{{ account.lastUpdated }}</td></tr>
            <tr><td>Credit Limit:</td><td>{{ account.creditLimit }}</td></tr>
            <tr><td>Type:</td><td>{{ account.type }}</td></tr>
            <tr><td>Product:</td><td>{{ account.product }}</td></tr>
            <tr><td>Account Holder:</td><td>{{ account.accountHolder }}</td></tr>
            <tr><td>Status:</td><td>{{ account.status }}</td></tr>
        </table>
    {% endfor %}
    {%  endif %}


{% endblock %}
